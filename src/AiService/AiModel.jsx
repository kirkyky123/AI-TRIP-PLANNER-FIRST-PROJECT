import { GoogleGenerativeAI } from "@google/generative-ai";

const apiKey = import.meta.env.VITE_GEMINI_API_KEY;
const genAI = new GoogleGenerativeAI(apiKey);

const model = genAI.getGenerativeModel({
  model: "gemini-1.5-flash",
});

const generationConfig = {
  temperature: 1,
  topP: 0.95,
  topK: 64,
  maxOutputTokens: 12000,
  responseMimeType: "text/plain",
};

export const chatSession = model.startChat({
  generationConfig,
  // safetySettings: Adjust safety settings
  // See https://ai.google.dev/gemini-api/docs/safety-settings
  history: [
    {
      role: "user",
      parts: [
        {text: "Generate a detailed travel itinerary for a 3-day trip to Las Vegas, NV for a Couple on a Premium budget. Include the following elements in JSON format: Hotel Options: (give at least 4 hotel options) HotelName: The name of the hotel. HotelAddress: The full address of the hotel. Price: The nightly cost of staying at the hotel (in a range of what it normally costs per night at the hotel. Ex output: $200-300 per night). HotelImageUrl: A URL to an image of the hotel. GeoCoordinates: The latitude and longitude of the hotel. Rating: The hotel’s rating out of 5. Description: A brief description of the hotel, including amenities, proximity to key attractions, and any special features.  ItineraryDetails for Each Day (Day 1, Day 2, Day 3, etc also ensure that the itinerary is for the full day (so in order from day to night) and then make sure there is at least 5 things each day. Also make sure to pick events for the itinerary depending on the budget. If its a cheap budget pick cheap but good options and if its a more expensive budget, pick expensive things): Day: The specific day of the itinerary. PlacesToVisit: A list of places to visit each day. (Make sure the itinerary is not vague, for example don’t include arrival and leaving of the hotel and make sure every place is specific (with location). So don’t say “relaxing spa treatment” and say the address of it to be “Your Hotel Spa or Recommended Spa”. So, include specific names for each of the places) PlaceName: The name of the place to visit. PlaceNameSearch: This is almost the same as PlaceName but give me JUST the exact name of  the place so don’t include “Dinner at (Place Name) or Lunch at (Place Name) or Evening at (Place Name). I will only use this to use it for my backend to search for this exact location so including other things besides JUST the name is useless for PlaceNameSearch. PlaceDetails: A description of the place, including what it’s known for, activities available, and any special considerations. Make sure the description is NO MORE than 3 sentences while keeping it appealing and concise. PlaceImageUrl: A URL to an image of the place. PlaceAddress: The full address of the place. GeoCoordinates: The latitude and longitude of the place. TicketPricing: The cost of entry or any associated fees. (DO NOT say “depends on order or location” in any way. DO NOT be vague. Give a range if you need to and then add (depends on order for example if there is a restaurant, do not say “depends on order”, instead include the average range of price for a meal at that restaurant and then say depends on order like so “$10-15 (depends on order)” and if its not a place to eat, do not say “depends on order” say something else that makes sense, for example at a spa place, you would say something like “$50-100 (depends on service)” Rating: The place’s rating out of 5. BestTimeToVisit: The exact time to visit the place (e.g., 10:00 AM, 2:30 PM) based on crowd levels, weather, or other factors. Also include in this how long someone should stay there for (e.g., if they got to a park at 10:00 AM, they might leave at 11:30 AM so the output will be like: 10:00 AM - 11:30 AM) and ensure that all times are specific (e.g., 9:00 AM, 2:00 PM) rather than vague (e.g., morning, evening) TravelTime: The estimated travel time from the hotel or previous location to this place in minutes. Make SURE to put this in the format of: (travel time from previous location) so for example if you went to a lake beforehand: (10 mins from the lake) you should use the PlaceNameSearch as the location so like so: (travel time from PlaceNameSearch). Summary Information: Description: A summary description of the whole trip in 3-4 sentences. Make it marketable and appealing. TotalEstimatedCost: An estimate of the total cost of the trip, including hotel, transportation, and entry fees. TravelModes: Suggestions for the best modes of transportation for each day (e.g., walking, public transit, rideshare). Format Requirements: Keep the budget considerations in mind for both the hotel and the itinerary, so if its a cheap budget, make sure to pick affordable options for the hotel and places to visit, if its a medium range budget, make sure to pick medium ranged options for the hotel and places to visit, and if its a premium budget, make sure to pick premium options for the hotel and places to visit. Ensure the itinerary is well-balanced, including a mix of iconic attractions, leisure time, and local experiences. And make sure all fields are filled and DO NOT have “N/A”. For the url fields the max url length is 100, so if the url is any bigger just stop. For the itinerary DO NOT include checking into a hotel as a part of the itinerary. I want you to create things to do without assuming a hotel. So don’t include hotel spas and massages for example. Lastly, if its for a couple, include couple things in the itinerary, if its for a family, include family things in the itinerary, etc. Provide the information in JSON format."},
      ],
    },
    {
      role: "model",
      parts: [
        {text: "```json\n{\n  \"HotelOptions\": [\n    {\n      \"HotelName\": \"The Venetian Resort Las Vegas\",\n      \"HotelAddress\": \"3355 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"Price\": \"$250-400 per night\",\n      \"HotelImageUrl\": \"https://www.thevenetianresort.com/content/dam/venetian/images/homepage/hero/hero-desktop.jpg\",\n      \"GeoCoordinates\": {\n        \"latitude\": 36.1146,\n        \"longitude\": -115.1728\n      },\n      \"Rating\": 4.5,\n      \"Description\": \"A luxurious resort with a European theme, featuring world-class dining, shopping, and entertainment options. The hotel offers gondola rides, a casino, and a variety of pools and spas.\"\n    },\n    {\n      \"HotelName\": \"The Cosmopolitan of Las Vegas\",\n      \"HotelAddress\": \"3708 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"Price\": \"$300-500 per night\",\n      \"HotelImageUrl\": \"https://www.cosmopolitanlasvegas.com/content/dam/cosmopolitan/images/home/hero-image-desktop.jpg\",\n      \"GeoCoordinates\": {\n        \"latitude\": 36.1156,\n        \"longitude\": -115.1737\n      },\n      \"Rating\": 4.6,\n      \"Description\": \"A stylish and modern hotel with a vibrant atmosphere. It features unique dining experiences, a rooftop pool with stunning city views, and a casino with a variety of gaming options.\"\n    },\n    {\n      \"HotelName\": \"The Wynn Las Vegas\",\n      \"HotelAddress\": \"3131 Las Vegas Blvd S, Las Vegas, NV 89109\",\n      \"Price\": \"$400-600 per night\",\n      \"HotelImageUrl\": \"https://www.wynnlasvegas.com/content/dam/wynn/images/homepage/hero/hero-image-desktop.jpg\",\n      \"GeoCoordinates\": {\n        \"latitude\": 36.1206,\n        \"longitude\": -115.1749\n      },\n      \"Rating\": 4.7,\n      \"Description\": \"A luxurious and elegant hotel known for its impeccable service and high-end amenities. It features a world-class spa, multiple pools, and a variety of restaurants and bars.\"\n    },\n    {\n      \"HotelName\": \"The Bellagio\",\n      \"HotelAddress\": \"3600 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"Price\": \"$350-550 per night\",\n      \"HotelImageUrl\": \"https://www.bellagio.com/content/dam/bellagio/images/homepage/hero/hero-image-desktop.jpg\",\n      \"GeoCoordinates\": {\n        \"latitude\": 36.1179,\n        \"longitude\": -115.1721\n      },\n      \"Rating\": 4.8,\n      \"Description\": \"A luxurious hotel with a Mediterranean-inspired design, featuring a world-famous fountain show, a botanical garden, and a casino. It also boasts an array of high-end shops and restaurants.\"\n    }\n  ],\n  \"ItineraryDetails\": [\n    {\n      \"Day\": \"Day 1\",\n      \"PlacesToVisit\": [\n        {\n          \"PlaceName\": \"High Roller Observation Wheel\",\n          \"PlaceNameSearch\": \"High Roller\",\n          \"PlaceDetails\": \"Experience panoramic views of the Las Vegas Strip from the world's tallest observation wheel. You can enjoy a drink while taking in the breathtaking sights of the city.\",\n          \"PlaceImageUrl\": \"https://www.caesars.com/content/dam/caesars/las-vegas/attractions/high-roller/high-roller-hero.jpg\",\n          \"PlaceAddress\": \"3545 S Las Vegas Blvd, Las Vegas, NV 89109\",\n          \"GeoCoordinates\": {\n            \"latitude\": 36.1178,\n            \"longitude\": -115.1722\n          },\n          \"TicketPricing\": \"$35-45 (depends on time of day)\",\n          \"Rating\": 4.5,\n          \"BestTimeToVisit\": \"10:00 AM - 12:00 PM\",\n          \"TravelTime\": \"(5 mins from The Venetian)\"\n        },\n        {\n          \"PlaceName\": \"Lunch at In-N-Out Burger\",\n          \"PlaceNameSearch\": \"In-N-Out Burger\",\n          \"PlaceDetails\": \"Enjoy a classic American burger and fries at this popular California-based chain restaurant.\",\n          \"PlaceImageUrl\": \"https://www.in-n-out.com/images/home/mobile-header.jpg\",\n          \"PlaceAddress\": \"3585 S Las Vegas Blvd, Las Vegas, NV 89109\",\n          \"GeoCoordinates\": {\n            \"latitude\": 36.1176,\n            \"longitude\": -115.1718\n          },\n          \"TicketPricing\": \"$10-15 (depends on order)\",\n          \"Rating\": 4,\n          \"BestTimeToVisit\": \"12:30 PM - 1:30 PM\",\n          \"TravelTime\": \"(5 mins from High Roller)\"\n        },\n        {\n          \"PlaceName\": \"Bellagio Conservatory & Botanical Garden\",\n          \"PlaceNameSearch\": \"Bellagio Conservatory\",\n          \"PlaceDetails\": \"Admire the stunning floral displays and themed gardens that change throughout the year. It's a beautiful and relaxing escape from the hustle and bustle of the Strip.\",\n          \"PlaceImageUrl\": \"https://www.bellagio.com/content/dam/bellagio/images/conservatory-botanical-garden/conservatory-hero-image.jpg\",\n          \"PlaceAddress\": \"3600 S Las Vegas Blvd, Las Vegas, NV 89109\",\n          \"GeoCoordinates\": {\n            \"latitude\": 36.1179,\n            \"longitude\": -115.1721\n          },\n          \"TicketPricing\": \"Free\",\n          \"Rating\": 4.5,\n          \"BestTimeToVisit\": \"2:00 PM - 3:30 PM\",\n          \"TravelTime\": \"(10 mins from In-N-Out)\"\n        },\n        {\n          \"PlaceName\": \"Dinner at The Eiffel Tower Restaurant\",\n          \"PlaceNameSearch\": \"Eiffel Tower Restaurant\",\n          \"PlaceDetails\": \"Enjoy a romantic dinner with breathtaking views of the Strip from the top of the Eiffel Tower replica at Paris Las Vegas.\",\n          \"PlaceImageUrl\": \"https://www.parislasvegas.com/content/dam/paris/images/dining/eiffel-tower-restaurant/eiffel-tower-restaurant-hero-image.jpg\",\n          \"PlaceAddress\": \"3655 S Las Vegas Blvd, Las Vegas, NV 89109\",\n          \"GeoCoordinates\": {\n            \"latitude\": 36.1157,\n            \"longitude\": -115.1709\n          },\n          \"TicketPricing\": \"$50-75 (depends on order)\",\n          \"Rating\": 4.6,\n          \"BestTimeToVisit\": \"7:00 PM - 8:00 PM\",\n          \"TravelTime\": \"(15 mins from Bellagio Conservatory)\"\n        },\n        {\n          \"PlaceName\": \"Fountains of Bellagio Show\",\n          \"PlaceNameSearch\": \"Fountains of Bellagio\",\n          \"PlaceDetails\": \"Witness a spectacular choreographed water and light show set to music. The show takes place every 15 minutes in front of the Bellagio hotel.\",\n          \"PlaceImageUrl\": \"https://www.bellagio.com/content/dam/bellagio/images/fountains-of-bellagio/fountains-hero-image.jpg\",\n          \"PlaceAddress\": \"3600 S Las Vegas Blvd, Las Vegas, NV 89109\",\n          \"GeoCoordinates\": {\n            \"latitude\": 36.1179,\n            \"longitude\": -115.1721\n          },\n          \"TicketPricing\": \"Free\",\n          \"Rating\": 4.7,\n          \"BestTimeToVisit\": \"9:00 PM - 10:00 PM\",\n          \"TravelTime\": \"(5 mins from Eiffel Tower Restaurant)\"\n        }\n      ]\n    },\n    {\n      \"Day\": \"Day 2\",\n      \"PlacesToVisit\": [\n        {\n          \"PlaceName\": \"The Neon Museum\",\n          \"PlaceNameSearch\": \"Neon Museum\",\n          \"PlaceDetails\": \"Explore a collection of vintage neon signs that have graced the Las Vegas Strip over the years. It's a unique and fascinating glimpse into the city's history.\",\n          \"PlaceImageUrl\": \"https://www.neonmuseum.org/wp-content/uploads/2023/04/NeonMuseum-Hero-2023-1024x683.jpg\",\n          \"PlaceAddress\": \"770 N Las Vegas Blvd, Las Vegas, NV 89101\",\n          \"GeoCoordinates\": {\n            \"latitude\": 36.1706,\n            \"longitude\": -115.1415\n          },\n          \"TicketPricing\": \"$25-35 (depends on tour)\",\n          \"Rating\": 4.5,\n          \"BestTimeToVisit\": \"10:00 AM - 11:30 AM\",\n          \"TravelTime\": \"(25 mins from The Venetian)\"\n        },\n        {\n          \"PlaceName\": \"Lunch at Joël Robuchon Restaurant\",\n          \"PlaceNameSearch\": \"Joël Robuchon\",\n          \"PlaceDetails\": \"Indulge in a Michelin-starred dining experience at this world-renowned restaurant, known for its exquisite French cuisine.\",\n          \"PlaceImageUrl\": \"https://www.mgmgrand.com/content/dam/mgm/images/dining/joel-robuchon/joel-robuchon-hero-image.jpg\",\n          \"PlaceAddress\": \"3799 S Las Vegas Blvd, Las Vegas, NV 89109\",\n          \"GeoCoordinates\": {\n            \"latitude\": 36.1158,\n            \"longitude\": -115.1696\n          },\n          \"TicketPricing\": \"$100-150 (depends on order)\",\n          \"Rating\": 4.8,\n          \"BestTimeToVisit\": \"1:00 PM - 2:30 PM\",\n          \"TravelTime\": \"(30 mins from Neon Museum)\"\n        },\n        {\n          \"PlaceName\": \"The Mob Museum\",\n          \"PlaceNameSearch\": \"Mob Museum\",\n          \"PlaceDetails\": \"Learn about the history of organized crime in Las Vegas and the United States. It's a fascinating and interactive museum with exhibits on infamous gangsters and their activities.\",\n          \"PlaceImageUrl\": \"https://www.themobmuseum.org/wp-content/uploads/2016/10/The-Mob-Museum-Hero-Image.jpg\",\n          \"PlaceAddress\": \"300 Stewart Ave, Las Vegas, NV 89101\",\n          \"GeoCoordinates\": {\n            \"latitude\": 36.1692,\n            \"longitude\": -115.1442\n          },\n          \"TicketPricing\": \"$25-35 (depends on tour)\",\n          \"Rating\": 4.4,\n          \"BestTimeToVisit\": \"3:30 PM - 5:00 PM\",\n          \"TravelTime\": \"(15 mins from Joël Robuchon)\"\n        },\n        {\n          \"PlaceName\": \"Dinner at Top of the World Restaurant\",\n          \"PlaceNameSearch\": \"Top of the World Restaurant\",\n          \"PlaceDetails\": \"Enjoy a revolving dining experience with stunning views of the city from the top of the Stratosphere Tower.\",\n          \"PlaceImageUrl\": \"https://www.stratospherehotel.com/content/dam/stratosphere/images/dining/top-of-the-world/top-of-the-world-hero-image.jpg\",\n          \"PlaceAddress\": \"2000 S Las Vegas Blvd, Las Vegas, NV 89104\",\n          \"GeoCoordinates\": {\n            \"latitude\": 36.1323,\n            \"longitude\": -115.1662\n          },\n          \"TicketPricing\": \"$60-80 (depends on order)\",\n          \"Rating\": 4.3,\n          \"BestTimeToVisit\": \"7:00 PM - 8:00 PM\",\n          \"TravelTime\": \"(20 mins from Mob Museum)\"\n        },\n        {\n          \"PlaceName\": \"See a Cirque du Soleil Show\",\n          \"PlaceNameSearch\": \"Cirque du Soleil\",\n          \"PlaceDetails\": \"Experience the awe-inspiring acrobatics and artistry of Cirque du Soleil at one of their many shows on the Strip. \",\n          \"PlaceImageUrl\": \"https://www.cirquedusoleil.com/content/dam/cirquedusoleil/images/shows/ka/ka-hero-image.jpg\",\n          \"PlaceAddress\": \"3799 S Las Vegas Blvd, Las Vegas, NV 89109\",\n          \"GeoCoordinates\": {\n            \"latitude\": 36.1158,\n            \"longitude\": -115.1696\n          },\n          \"TicketPricing\": \"$100-150 (depends on show)\",\n          \"Rating\": 4.7,\n          \"BestTimeToVisit\": \"9:00 PM - 10:00 PM\",\n          \"TravelTime\": \"(20 mins from Top of the World)\"\n        }\n      ]\n    },\n    {\n      \"Day\": \"Day 3\",\n      \"PlacesToVisit\": [\n        {\n          \"PlaceName\": \"Red Rock Canyon National Conservation Area\",\n          \"PlaceNameSearch\": \"Red Rock Canyon\",\n          \"PlaceDetails\": \"Explore the stunning red rock formations and scenic hiking trails in this beautiful natural area just a short drive from Las Vegas. \",\n          \"PlaceImageUrl\": \"https://www.nps.gov/redr/planyourvisit/images/hero-redrock.jpg\",\n          \"PlaceAddress\": \"1000 Scenic Loop Dr, Las Vegas, NV 89161\",\n          \"GeoCoordinates\": {\n            \"latitude\": 36.1284,\n            \"longitude\": -115.2426\n          },\n          \"TicketPricing\": \"$15 per vehicle\",\n          \"Rating\": 4.6,\n          \"BestTimeToVisit\": \"9:00 AM - 12:00 PM\",\n          \"TravelTime\": \"(30 mins from The Venetian)\"\n        },\n        {\n          \"PlaceName\": \"Lunch at The Peppermill Restaurant\",\n          \"PlaceNameSearch\": \"The Peppermill\",\n          \"PlaceDetails\": \"Enjoy a classic Las Vegas dining experience at this iconic restaurant, known for its retro atmosphere and delicious food. \",\n          \"PlaceImageUrl\": \"https://www.peppermillrestaurant.com/images/home-hero.jpg\",\n          \"PlaceAddress\": \"3125 S Las Vegas Blvd, Las Vegas, NV 89109\",\n          \"GeoCoordinates\": {\n            \"latitude\": 36.1202,\n            \"longitude\": -115.1742\n          },\n          \"TicketPricing\": \"$20-30 (depends on order)\",\n          \"Rating\": 4.4,\n          \"BestTimeToVisit\": \"1:00 PM - 2:30 PM\",\n          \"TravelTime\": \"(35 mins from Red Rock Canyon)\"\n        },\n        {\n          \"PlaceName\": \"The LINQ Promenade\",\n          \"PlaceNameSearch\": \"LINQ Promenade\",\n          \"PlaceDetails\": \"Stroll along this vibrant outdoor shopping and dining destination, featuring the High Roller observation wheel, a variety of restaurants, and unique shops.\",\n          \"PlaceImageUrl\": \"https://www.caesars.com/content/dam/caesars/las-vegas/attractions/linq/linq-promenade-hero-image.jpg\",\n          \"PlaceAddress\": \"3500 S Las Vegas Blvd, Las Vegas, NV 89109\",\n          \"GeoCoordinates\": {\n            \"latitude\": 36.1173,\n            \"longitude\": -115.1719\n          },\n          \"TicketPricing\": \"Free\",\n          \"Rating\": 4.2,\n          \"BestTimeToVisit\": \"3:00 PM - 5:00 PM\",\n          \"TravelTime\": \"(10 mins from The Peppermill)\"\n        },\n        {\n          \"PlaceName\": \"Dinner at Wolfgang Puck Bar & Grill\",\n          \"PlaceNameSearch\": \"Wolfgang Puck Bar & Grill\",\n          \"PlaceDetails\": \"Enjoy a casual yet upscale dining experience at this popular restaurant known for its delicious American cuisine and lively atmosphere.\",\n          \"PlaceImageUrl\": \"https://www.wolfgangpuck.com/wp-content/uploads/2020/09/wolfgang-puck-bar-grill-las-vegas-exterior.jpg\",\n          \"PlaceAddress\": \"3600 S Las Vegas Blvd, Las Vegas, NV 89109\",\n          \"GeoCoordinates\": {\n            \"latitude\": 36.1179,\n            \"longitude\": -115.1721\n          },\n          \"TicketPricing\": \"$40-60 (depends on order)\",\n          \"Rating\": 4.3,\n          \"BestTimeToVisit\": \"7:00 PM - 8:00 PM\",\n          \"TravelTime\": \"(10 mins from LINQ Promenade)\"\n        },\n        {\n          \"PlaceName\": \"See a show at the Venetian\",\n          \"PlaceNameSearch\": \"Venetian Show\",\n          \"PlaceDetails\": \"Enjoy a world-class show at The Venetian, featuring popular entertainers, Broadway productions, and unique theatrical performances. \",\n          \"PlaceImageUrl\": \"https://www.venetianresort.com/content/dam/venetian/images/shows/concerts/concerts-hero-image.jpg\",\n          \"PlaceAddress\": \"3355 S Las Vegas Blvd, Las Vegas, NV 89109\",\n          \"GeoCoordinates\": {\n            \"latitude\": 36.1146,\n            \"longitude\": -115.1728\n          },\n          \"TicketPricing\": \"$80-150 (depends on show)\",\n          \"Rating\": 4.5,\n          \"BestTimeToVisit\": \"9:00 PM - 10:00 PM\",\n          \"TravelTime\": \"(5 mins from Wolfgang Puck)\"\n        }\n      ]\n    }\n  ],\n  \"SummaryInformation\": {\n    \"Description\": \"This 3-day Las Vegas itinerary is perfect for couples seeking a premium experience. It offers a mix of iconic attractions, fine dining, luxurious accommodations, and thrilling entertainment. From breathtaking views from the High Roller to a romantic dinner at The Eiffel Tower Restaurant, this itinerary is designed to create unforgettable memories in the City of Lights.\",\n    \"TotalEstimatedCost\": \"$2000-3000 (excluding airfare)\",\n    \"TravelModes\": \"Rideshare, walking, and taxis are recommended for most of the itinerary. You can consider renting a car for Day 3 if you plan to visit Red Rock Canyon.\"\n  }\n}\n```"},
      ],
    },
  ],
});
